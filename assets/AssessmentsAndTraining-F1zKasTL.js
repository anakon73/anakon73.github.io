import{j as i,e as A,q as w,o as T,A as D,B as F,E as O,l as s,G as v,u as e,b as f,a0 as C,a1 as R}from"./vue.esm-bundler-CYPfFjdk.js";import{u as L,M as S}from"./preview-D0Pi-YKn.js";import{_ as M}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./chunk-UXHY756F-iEg6Hh0Y.js";import"./index-C1vJkiWb.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./vue-router-E7v71uM3.js";import"./preview-errors-7FWlPnjy.js";import"./index-PPLHz8o0.js";import"./schemas-74JEr9Jm.js";import"./index-LmGWO5sK.js";import"./routes-WhYxSpGG.js";import"./models-qWR1FMGP.js";import"./PDays-npMhi6Nw.js";import"./index-baqd9Qr3.js";import"./index-TCXC35p5.js";import"./index-05uTbNHo.js";import"./PPopoverPanel-RNuJphX8.js";import"./headlessui-float-sqR0azf2.js";import"./transition-qpXhaAaU.js";import"./keyboard-64MH3N5t.js";import"./open-closed-nhb_Ydho.js";import"./use-root-containers-gEPBKDr2.js";import"./use-resolve-button-type-49aRxFpo.js";import"./iframe-ufxlS10p.js";import"../sb-preview/runtime.js";import"./query-G1AwWss6.js";import"./ChevronDownIcon-AgxEjrtE.js";import"./listbox-3RN1mHPV.js";import"./form-TGXPuq_M.js";import"./DepartureList-w5NrqMJ9.js";import"./DepartureAssignStaffAndVehicles-8AoBdfT8.js";import"./api-B2HcjM2j.js";import"./api-cJzoLyfI.js";import"./PButton-h9_xezBg.js";import"./index-VqpYtbVe.js";import"./PInput-iZb_REtl.js";import"./POverlay-3jPNvx4x.js";import"./PSpinner-cF72MsvC.js";import"./IconBus-0QPjtZ9u.js";import"./IconPerson-i3ljUCnk.js";import"./SuggestedUser-4kWsZiWj.js";import"./PAvatar-wq6oK0Zr.js";import"./PlusCircleIcon-aSiXn_Mr.js";import"./SuggestedVehicle-r1TyKt-D.js";import"./ScheduledUser-esbe3tjU.js";import"./VehicleTitle-0pOySBND.js";import"./XMarkIcon-_tXc_TyD.js";import"./PPhoneLink-wKLYRG_F.js";import"./PAlert-quHLeqTA.js";import"./CheckCircleIcon-akbq8cGf.js";import"./XMarkIcon-t43a1P5Z.js";import"./PDialogTitle-rfxNVwSR.js";import"./description-LPuBJoU_.js";import"./DepartureListItem-I88AIHqM.js";import"./DepartureUpdateComment-2rt04tFb.js";import"./PTextarea-Wrr33MR5.js";import"./DepartureUpdateCommentPopover-euFlcGix.js";import"./DepartureUpdateStatus-zdhd3wV8.js";import"./PListboxLabel-U39qo3cm.js";import"./CheckIcon-WRJIoum8.js";import"./lib-Fy6oBlQ3.js";import"./PToggle-mLVcOzrp.js";import"./PRadio-sGATo2dT.js";import"./index-bhXQ3okY.js";import"./isNativeReflectConstruct-ubdnbphT.js";import"./mock-vjhcKIQW.js";import"./index-1aVAeLWL.js";import"./mock-UR5nntqf.js";import"./mock-CzN7Q16W.js";import"./mock-YoOI-P8k.js";import"./mock-psFphV_9.js";import"./mock-OgPWcINV.js";function P(){const{apiClient:a}=L(),o=i({chart:{type:"line",height:350,zoom:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},xaxis:{categories:[],labels:{show:!1}},tooltip:{x:{format:"dd/MM/yy"}},yaxis:[{seriesName:"Training Logs",labels:{formatter:t=>Math.round(t).toString()}}]}),m=i([]),h=async()=>{try{const t=await a.get("/api/metrics/assessments-and-training/frequency-over-time");o.value={...o.value,xaxis:{categories:t.data.categories,labels:{show:!1}}},m.value=t.data.series}catch(t){console.log(t)}},r=i({chart:{type:"donut"},colors:["#00E396","#FF4560"],labels:[],legend:{position:"bottom"}}),c=i([]),u=async()=>{try{const t=await a.get("/api/metrics/assessments-and-training/assessment-pass-rate");r.value={...r.value,labels:t.data.categories},c.value=t.data.series}catch(t){console.log(t)}},n=i({chart:{type:"bar"},colors:["#FF4560"],plotOptions:{bar:{borderRadius:4,horizontal:!0}},xaxis:{categories:[]},yaxis:{labels:{align:"left"}}}),p=i([]),_=async()=>{try{const t=await a.get("/api/metrics/assessments-and-training/assessments-with-highest-failure-rate");n.value={...n.value,xaxis:{categories:t.data.categories}},p.value=t.data.series}catch(t){console.log(t)}},d=i(0),g=i(0);return{chartDataAssessmentsAndTrainingFrequencyOverTimeOptions:o,chartDataAssessmentsAndTrainingFrequencyOverTimeSeries:m,getAssessmentsAndTrainingOverTimeData:h,chartDataAssessmentPassRateOptions:r,chartDataAssessmentPassRateSeries:c,getAssessmentPassRateData:u,chartDataAssessmentsWithHighestFailureRateOptions:n,chartDataAssessmentsWithHighestFailureRateSeries:p,getAssessmentsWithHighestFailureRateData:_,totalAssessmentLogCount:d,totalTrainingLogCount:g,getTotalLogCounts:async()=>{try{const t=await a.get("/api/metrics/assessments-and-training/total-log-counts");d.value=t.data.total_assessment_logs,g.value=t.data.total_training_logs}catch(t){console.log(t)}}}}const l=a=>(C("data-v-96a6a0ca"),a=a(),R(),a),k=l(()=>s("p",{class:"my-6 text-sm text-gray-500"}," The following charts are based on the data from the logged assessments and training. ",-1)),q={class:"mb-6"},H={class:"mt-5 grid grid-cols-1 divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow md:grid-cols-2 md:divide-x md:divide-y-0"},W={class:"px-4 py-5 sm:p-6"},j=l(()=>s("dt",{class:"text-base font-normal text-gray-900"}," Total Assessments Logs ",-1)),I={class:"mt-1 flex items-baseline justify-between md:block lg:flex"},N={class:"flex items-baseline text-2xl font-semibold text-blue-600"},B={class:"px-4 py-5 sm:p-6"},z=l(()=>s("dt",{class:"text-base font-normal text-gray-900"}," Total Training Logs ",-1)),E={class:"mt-1 flex items-baseline justify-between md:block lg:flex"},V={class:"flex items-baseline text-2xl font-semibold text-blue-600"},G={class:"grid grid-cols-1 gap-3 xl:grid-cols-3"},J={class:"flex flex-col rounded-2xl border bg-white shadow"},K={class:"xl:p-3"},Q=l(()=>s("p",{class:"mt-auto border-t bg-gray-50 p-3 text-xs italic text-neutral-500"}," Assessment and training logs over time. ",-1)),U={class:"flex flex-col rounded-2xl border bg-white shadow"},X={class:"flex flex-1 items-center justify-center xl:p-3"},Y=l(()=>s("p",{class:"mt-auto border-t bg-gray-50 p-3 text-xs italic text-neutral-500"}," Assessments with highest rate of failure. ",-1)),Z={class:"flex flex-col rounded-2xl border bg-white shadow"},$={class:"flex flex-1 items-center justify-center p-3"},tt=l(()=>s("p",{class:"mt-auto border-t bg-gray-50 p-3 text-xs italic text-neutral-500"}," Overall assessment pass rate. ",-1)),b=A({__name:"AssessmentsAndTraining",setup(a){const{chartDataAssessmentsAndTrainingFrequencyOverTimeOptions:o,chartDataAssessmentsAndTrainingFrequencyOverTimeSeries:m,getAssessmentsAndTrainingOverTimeData:h,chartDataAssessmentPassRateOptions:r,chartDataAssessmentPassRateSeries:c,getAssessmentPassRateData:u,chartDataAssessmentsWithHighestFailureRateOptions:n,chartDataAssessmentsWithHighestFailureRateSeries:p,getAssessmentsWithHighestFailureRateData:_,totalAssessmentLogCount:d,totalTrainingLogCount:g,getTotalLogCounts:y}=P();return w(async()=>{await Promise.all([h(),u(),_(),y()])}),(t,st)=>{const x=O("apexchart");return T(),D(S,{"main-content-title":"Assessments & Training Metrics"},{default:F(()=>[s("div",null,[k,s("div",q,[s("dl",H,[s("div",W,[j,s("dd",I,[s("div",N,v(e(d)),1)])]),s("div",B,[z,s("dd",E,[s("div",V,v(e(g)),1)])])])]),s("div",G,[s("div",J,[s("div",K,[f(x,{width:"100%",type:e(o).chart.type,options:e(o),series:e(m)},null,8,["type","options","series"])]),Q]),s("div",U,[s("div",X,[f(x,{width:"100%",type:e(n).chart.type,options:e(n),series:e(p)},null,8,["type","options","series"])]),Y]),s("div",Z,[s("div",$,[f(x,{width:"100%",type:e(r).chart.type,options:e(r),series:e(c)},null,8,["type","options","series"])]),tt])])])]),_:1})}}}),bs=M(b,[["__scopeId","data-v-96a6a0ca"]]);b.__docgenInfo={exportName:"default",displayName:"AssessmentsAndTraining",description:"",tags:{},sourceFiles:["D:/work/server/htdocs/aa-portal.is/src/pages/metrics/AssessmentsAndTraining.vue"]};export{bs as default};
