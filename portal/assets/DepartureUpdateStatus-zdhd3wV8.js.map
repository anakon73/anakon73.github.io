{"version":3,"file":"DepartureUpdateStatus-zdhd3wV8.js","sources":["../../src/features/departure/update-status/DepartureUpdateStatus.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { toRefs } from 'vue'\nimport { push } from 'notivue'\n\nimport { type ScheduledDeparture, ScheduledDepartureStatus } from '@/shared/types'\nimport { useScheduledDepartureUpdate } from '@/shared/api/scheduled-departure'\nimport { PListbox } from '@/shared/ui/PListbox'\nimport { POverlay } from '@/shared/ui/POverlay'\n\nexport interface Props {\n  scheduledDepartureId: ScheduledDeparture['id']\n  status: ScheduledDepartureStatus\n}\n\nconst props = defineProps<Props>()\nconst { scheduledDepartureId, status } = toRefs(props)\n\nconst { mutate, isPending } = useScheduledDepartureUpdate()\n\nconst saveStatus = (value: ScheduledDepartureStatus) => {\n  mutate({\n    scheduledDepartureId: scheduledDepartureId.value,\n    status: value,\n  }, {\n    onSuccess() {\n      push.success({ message: 'Departure status updated' })\n    },\n  })\n}\n</script>\n\n<template>\n  <POverlay :show=\"isPending\">\n    <PListbox\n      :model-value=\"status\"\n      :list=\"[\n        { label: 'Cancelled', value: ScheduledDepartureStatus.Cancelled },\n        { label: 'Ongoing', value: ScheduledDepartureStatus.Ongoing },\n      ]\"\n      class=\"min-w-32\"\n      @update:model-value=\"saveStatus($event)\"\n    />\n  </POverlay>\n</template>\n"],"names":["props","__props","scheduledDepartureId","status","toRefs","mutate","isPending","useScheduledDepartureUpdate","saveStatus","value","push"],"mappings":"+YAcA,MAAMA,EAAQC,EACR,CAAE,qBAAAC,EAAsB,OAAAC,CAAO,EAAIC,EAAOJ,CAAK,EAE/C,CAAE,OAAAK,EAAQ,UAAAC,CAAU,EAAIC,EAA4B,EAEpDC,EAAcC,GAAoC,CAC/CJ,EAAA,CACL,qBAAsBH,EAAqB,MAC3C,OAAQO,CAAA,EACP,CACD,WAAY,CACVC,EAAK,QAAQ,CAAE,QAAS,0BAA4B,CAAA,CACtD,CAAA,CACD,CAAA"}