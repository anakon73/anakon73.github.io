import{d as u,s as y}from"./schemas-74JEr9Jm.js";import{u as p,a as B}from"./preview-D0Pi-YKn.js";import{j as I}from"./vue.esm-bundler-CYPfFjdk.js";const g=u("assessment",()=>{const n=I([]);function a(r){n.value=r}function i(r){n.value.push(r)}function o(r){const A=n.value.findIndex(d=>d.id===r.id);A!==-1&&n.value.splice(A,1)}function c(r){const A=n.value.findIndex(d=>d.id===r.id);n.value[A]=r}function l(){n.value=[]}return{storeSetAssessments:a,storeAssessments:n,storeAddAssessment:i,storeRemoveAssessment:o,storeUpdateAssessment:c,storeClearAssessments:l}});function x(){const{apiClient:n}=p(),{addToActionsInProgress:a,removeFromActionsInProgress:i,processActionError:o,resetActionsInError:c,processActionSuccess:l,resetActionsInSuccess:r}=B(),{storeUpdateAssessment:A}=g(),{storeAssessments:d}=y(g()),e={getAssessmentsByDepartmentId:{id:"getAssessmentsByDepartmentId",successMessage:"Assessments retrieved successfully.",errorMessage:"There was a problem retrieving assessments."},getAllAssessmentsByUserAbility:{id:"getAllAssessmentsByUserAbility",successMessage:"Assessments retrieved successfully.",errorMessage:"There was a problem retrieving assessments."},getAllAssessmentLogsByUserId:{id:"getAllAssessmentLogsByUserId",successMessage:"Assessment logs retrieved successfully.",errorMessage:"There was a problem retrieving the assessment logs."},assessUser:{id:"assessUser",successMessage:"Assessment successfully logged.",errorMessage:"There was a problem logging the assessment."},getAssessmentById:{id:"getAssessmentById",successMessage:"Assessment retrieved successfully.",errorMessage:"There was a problem retrieving the assessment."},editAssessment:{id:"editAssessment",successMessage:"Assessment edited successfully.",errorMessage:"There was a problem editing the assessment."},deleteAssessmentLog:{id:"deleteAssessmentLog",successMessage:"Assessment deleted successfully.",errorMessage:"There was a problem deleting the assessment."},createAssessment:{id:"createAssessment",successMessage:"Assessment created successfully.",errorMessage:"There was a problem creating the assessment."}};return{assessmentActions:e,getAllAssessmentsByUserAbility:async()=>{c(),a(e.getAllAssessmentsByUserAbility);try{const t=await n.get("/api/assessments-by-user-ability");return i(e.getAllAssessmentsByUserAbility),t.data.assessments}catch(t){o(e.getAllAssessmentsByUserAbility,t)}},getAllAssessmentLogsByUserId:async t=>{c(),a(e.getAllAssessmentLogsByUserId);try{const s=await n.get(`/api/user/${t}/assessment-logs`);return i(e.getAllAssessmentLogsByUserId),s.data}catch(s){o(e.getAllAssessmentLogsByUserId,s)}},assessUser:async t=>{c(),r(),a(e.assessUser);try{await n.post(`/api/user/${t.user.id}/assess`,t),l(e.assessUser)}catch(s){return console.log(s),o(e.assessUser,s),!1}},apiGetAssessmentsByDepartmentId:async t=>{c(),a(e.getAssessmentsByDepartmentId);try{const s=await n.get("/api/assessments",{params:{selectedDepartmentId:t}});return i(e.getAssessmentsByDepartmentId),s.data.assessments}catch(s){o(e.getAssessmentsByDepartmentId,s)}},getAllAssessmentsFromStore:()=>d.value,getAssessmentById:async t=>{c(),a(e.getAssessmentById);try{const s=await n.get(`/api/assessment/${t}`);return i(e.getAssessmentById),s.data.assessment}catch(s){console.log(s),o(e.getAssessmentById,s)}},editAssessment:async(t,s)=>{c(),r(),a(e.editAssessment);try{const m=await n.put(`/api/assessment/${t.id}`,{assessmentData:t,newCriteria:s});return A(m.data.assessment),l(e.editAssessment),m.data.assessment}catch(m){console.log(m),o(e.editAssessment,m)}},deleteAssessmentLog:async t=>{c(),r();const s={...e.deleteAssessmentLog};s.id=`${s.id}-${t}`,a(s);try{await n.delete(`/api/assessment-log/${t}`),l(s)}catch(m){return o(s,m),!1}},createAssessment:async t=>{c(),r(),a(e.createAssessment);try{const s=await n.post("/api/assessment",t);return l(e.createAssessment),s.data.assessment}catch(s){console.log(s),o(e.createAssessment,s)}}}}export{g as a,x as u};
