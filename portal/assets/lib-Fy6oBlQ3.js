import{B as v}from"./models-qWR1FMGP.js";import{o as f,k as p,l as u,e as w,z as Z,g as V,F as I,H,aa as A,A as B,Y as C,C as _,G as R}from"./vue.esm-bundler-CYPfFjdk.js";import{e as S}from"./index-LmGWO5sK.js";import{a as n}from"./index-baqd9Qr3.js";import{S as D}from"./IconBus-0QPjtZ9u.js";import{r as M}from"./CheckIcon-WRJIoum8.js";function E(c,i){return f(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{d:"M5.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H6a.75.75 0 0 1-.75-.75V12ZM6 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H6ZM7.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H8a.75.75 0 0 1-.75-.75V12ZM8 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H8ZM9.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V10ZM10 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H10ZM9.25 14a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V14ZM12 9.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V10a.75.75 0 0 0-.75-.75H12ZM11.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H12a.75.75 0 0 1-.75-.75V12ZM12 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H12ZM13.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H14a.75.75 0 0 1-.75-.75V10ZM14 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H14Z"}),u("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z","clip-rule":"evenodd"})])}function q(c,i){return f(),p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[u("path",{d:"M7 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM14.5 9a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM14.5 16h-.106c.07-.297.088-.611.048-.933a7.47 7.47 0 0 0-1.588-3.755 4.502 4.502 0 0 1 5.874 2.636.818.818 0 0 1-.36.98A7.465 7.465 0 0 1 14.5 16Z"})])}const N={class:"relative h-16 min-w-44"},z=u("div",{class:"absolute top-8 h-1.5 w-full rounded-full shadow-[inset_1px_1px_4px_rgba(0,0,0,0.1)]"},null,-1),e=15,F=w({__name:"PMultiRatioBar",props:{centeredValue:{},ratioItems:{}},setup(c){const i=c,{centeredValue:o,ratioItems:a}=Z(i),g=V(()=>S(a.value.find(d=>d.key===o.value))),s=V(()=>g.value.barPosition),k=V(()=>{const d=a.value.map(r=>({key:r.key,barPosition:r.barPosition,value:r.value,color:r.color,icon:r.icon}));return d.forEach(r=>{r.key!==o.value&&(r.barPosition>=s.value&&r.barPosition<=s.value+e&&(r.barPosition=s.value+e),r.barPosition<=s.value&&r.barPosition>s.value-e&&(r.barPosition=s.value-e),r.barPosition<0&&(r.barPosition=0),r.barPosition>100&&(r.barPosition=100),d.forEach(t=>{r.key!==t.key&&(r.barPosition>=t.barPosition&&r.barPosition<=t.barPosition+e&&r.barPosition<=s.value&&(r.value>=t.value?t.barPosition-=e:r.barPosition-=e),r.barPosition<=t.barPosition&&r.barPosition>=t.barPosition-e&&r.barPosition>=s.value&&(r.value>=t.value?r.barPosition+=e:t.barPosition+=e),t.barPosition<0&&(t.barPosition=0),r.barPosition===0&&(t.barPosition===0||t.barPosition<=r.barPosition+e&&t.barPosition>=r.barPosition)&&(r.value>t.value?r.barPosition+=e:t.barPosition+=e),t.barPosition>100&&(t.barPosition=100),r.barPosition===100&&(t.barPosition===100||t.barPosition<=r.barPosition-e&&t.barPosition>=r.barPosition)&&(r.value>t.value?t.barPosition-=e:r.barPosition-=e))}))}),d.map(r=>({...r,left:`calc(${r.barPosition}% - 14px)`}))});return(d,r)=>(f(),p("div",N,[(f(!0),p(I,null,H(k.value,({key:t,color:b,left:h,icon:P,value:y})=>(f(),p("div",{key:t,class:"absolute w-7",style:A({left:h})},[u("div",{class:_(["flex h-7 w-full items-center justify-center rounded-full border transition-all duration-1000",b])},[(f(),B(C(P),{class:"h-4 w-4"}))],2),u("p",{class:_(["absolute top-10 w-full text-center",b])},R(y),3)],4))),128)),z]))}});F.__docgenInfo={exportName:"default",displayName:"PMultiRatioBar",description:"",tags:{},props:[{name:"centeredValue",required:!0,type:{name:"DepartureProgressType"}},{name:"ratioItems",required:!0,type:{name:"Array",elements:[{name:"RatioItem"}]}}],sourceFiles:["D:/work/server/htdocs/aa-portal.is/src/shared/ui/PMultiRatioBar/PMultiRatioBar.vue"]};const l={Seats:"seats",Passengers:"passengers",Availability:"availability"};function J(c){return c.reduce((i,o)=>{const a=o.status===v.Confirmed?o.totalPassengerCount:0;return i+(o.arrivedPassengerCount??a)},0)}function K(c,i,o){const a=c??0,g=a>0?l.Availability:o&&o>0?l.Seats:l.Passengers,s=g===l.Availability?a:o&&g===l.Seats?o:i,k=a===o,d=a===i,r=a===o&&a===i;let t=n(["border-gray-600 text-gray-600","dark:border-gray-400 dark:text-gray-300"]);o&&o>i&&i>=a&&a>0&&(t=n(["border-indigo-600 text-indigo-600","dark:border-blue-500 dark:text-blue-500"])),o&&o>i&&o<a&&a>0&&(t=n("border-orange-600 text-orange-600")),o&&o<i&&(t=n("border-red-600 text-red-600")),o&&o<i&&a>0&&(t=n("border-red-600 text-red-600")),o===0&&(t=n("border-red-600 text-red-600"));let b=n(["border-gray-600 text-gray-600","dark:border-gray-400 dark:text-gray-300"]),h=q;a===o&&a<i&&(b=n(["border-red-600 text-red-600","dark:border-red-500 dark:text-red-500"])),c===null&&(b=n(["border-gray-600 text-gray-600","dark:border-gray-400 dark:text-gray-300"])),a===0&&i===o&&(b=n(["border-green-600 text-green-600","dark:border-green-400 dark:text-green-300"]),h=M);let P=n(["border-gray-600 text-gray-600","dark:border-gray-400 dark:text-gray-300"]),y=E;a<i&&(P=n(["border-red-600 text-red-600","dark:border-red-500 dark:text-red-500"])),a===o&&a<i&&(P=n(["border-gray-600 text-gray-600","dark:border-gray-400 dark:text-gray-300"])),(r||a===null&&o===i)&&(P=n("border-green-600 text-green-600"),y=M),(d||k)&&(y=M);const x=[];if(a>0){const m={key:l.Availability,color:P,value:a,icon:y,barPosition:50};x.push(m)}if(o!==i&&o!==null){const m={key:l.Seats,color:t,value:o,icon:D,barPosition:o/s*100-50,isDisplayedInEditMode:o<=0};x.push(m)}if(!d&&i>0){const m={key:l.Passengers,color:b,value:i,icon:h,barPosition:i/s*100-50};x.push(m)}return x}export{F as _,J as c,K as p};
