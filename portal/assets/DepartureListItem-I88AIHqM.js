import{j as x,o as a,k as i,l as s,e as T,b as l,B as v,u as n,G as d,D as g,N as f,A as y,z as j,g as k,E as z,C as _,F as C,H as R}from"./vue.esm-bundler-CYPfFjdk.js";import"./DepartureUpdateComment-2rt04tFb.js";import{_ as B}from"./DepartureUpdateCommentPopover-euFlcGix.js";import{_ as P}from"./DepartureUpdateStatus-zdhd3wV8.js";import{p as U,_ as F}from"./lib-Fy6oBlQ3.js";import{_ as G}from"./_plugin-vue_export-helper-x3n3nnut.js";import{_ as E}from"./PButton-h9_xezBg.js";import{_ as O}from"./PAvatar-wq6oK0Zr.js";import{G as Z,a as J,_ as K}from"./PPopoverPanel-RNuJphX8.js";import{_ as Q}from"./PPhoneLink-wKLYRG_F.js";function W(c=150){const u=x(!1),o=x(null);return{show:u,timer:o,open:()=>{o.value!==null&&(clearTimeout(o.value),o.value=null),u.value=!0},close:()=>u.value=!1,delayClose:()=>{o.value=setTimeout(()=>{u.value=!1},c)}}}const I={},X={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Y=s("path",{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"},null,-1),ee=[Y];function te(c,u){return a(),i("svg",X,ee)}const $=G(I,[["render",te]]);I.__docgenInfo={displayName:"IconPlusSimple",description:"",tags:{},sourceFiles:["D:/work/server/htdocs/aa-portal.is/src/shared/ui/icons/IconPlusSimple.vue"]};const se={class:"relative"},ne={class:"flex min-w-44 flex-col gap-3"},re=["textContent"],ae={class:"flex gap-3"},oe={key:0,class:"rounded-xl bg-gray-900 px-3 text-xs font-medium leading-5 text-white"},ie={class:"truncate text-sm font-medium text-gray-500"},le={key:0,class:"absolute inset-x-1/2 bottom-[-0.3rem] min-w-7 -translate-x-1/2 rounded-xl bg-gray-900 px-1.5 py-0.5 text-center"},ue={class:"text-[0.6rem] leading-5 text-white"},S=T({__name:"DepartureListStaff",props:{avatar:{},name:{},phone:{},vehicleTitle:{},vehicleRegistrationNumber:{}},emits:["clickAvatar"],setup(c){const{show:u,open:o,delayClose:p}=W();return(t,m)=>(a(),i("div",se,[l(n(K),{float:{show:n(u),placement:"top"}},{default:v(()=>[l(n(Z),{onMouseenter:n(o),onMouseleave:n(p)},{default:v(()=>[l(n(O),{class:"min-w-14 border-4 border-white",src:t.avatar,"placeholder-name":t.name,size:"xl",onClick:m[0]||(m[0]=b=>t.$emit("clickAvatar"))},null,8,["src","placeholder-name"])]),_:1},8,["onMouseenter","onMouseleave"]),l(n(J),{static:"",onMouseenter:n(o),onMouseleave:n(p),onClick:m[1]||(m[1]=f(()=>{},["stop"]))},{default:v(()=>[s("div",ne,[s("p",{class:"font-semibold",textContent:d(t.name)},null,8,re),t.phone?(a(),y(n(Q),{key:0,phone:t.phone},null,8,["phone"])):g("",!0),s("div",ae,[t.vehicleTitle?(a(),i("div",oe,d(t.vehicleTitle),1)):g("",!0),s("p",ie,d(t.vehicleRegistrationNumber),1)])])]),_:1},8,["onMouseenter","onMouseleave"])]),_:1},8,["float"]),t.vehicleTitle?(a(),i("div",le,[s("p",ue,d(t.vehicleTitle),1)])):g("",!0)]))}});S.__docgenInfo={exportName:"default",displayName:"DepartureListStaff",description:"",tags:{},props:[{name:"avatar",required:!0,type:{name:"TSIndexedAccessType"}},{name:"name",required:!0,type:{name:"TSIndexedAccessType"}},{name:"phone",required:!0,type:{name:"TSIndexedAccessType"}},{name:"vehicleTitle",required:!0,type:{name:"union",elements:[{name:"TSIndexedAccessType"},{name:"null"}]}},{name:"vehicleRegistrationNumber",required:!0,type:{name:"union",elements:[{name:"TSIndexedAccessType"},{name:"null"}]}}],events:[{name:"clickAvatar"}],sourceFiles:["D:/work/server/htdocs/aa-portal.is/src/widgets/departure-list/ui/staff/DepartureListStaff.vue"]};const me=["onClick"],de={class:"grid grid-cols-2 items-center lg:grid-cols-4"},ce={class:"flex h-full items-center gap-2"},pe=["textContent"],fe=["src","alt"],ve={key:1,class:"size-full min-w-12 rounded-xl bg-gray-400"},he=["textContent"],ge={class:"flex justify-end lg:justify-center"},_e={class:"flex cursor-pointer lg:justify-center"},ye={class:"relative -ml-4 flex h-14 w-14 min-w-14 cursor-pointer items-center justify-center rounded-full border-4 border-white bg-gray-300"},be={class:"flex items-center gap-1 pr-2"},we=s("p",{class:"text-xs text-white",textContent:"Guides"},null,-1),xe={class:"flex items-center justify-end gap-2"},ke=T({__name:"DepartureListItem",props:{scheduledDepartureId:{},bookingSystemAvailability:{},tourName:{},tourThumbnailUrl:{},time:{},totalPassengerCount:{},comment:{},status:{},scheduledUsers:{},compact:{type:Boolean}},emits:["startAssignment"],setup(c){const u=c,{totalPassengerCount:o,bookingSystemAvailability:p,scheduledUsers:t}=j(u),m=k(()=>{var e;return t.value.length===0?null:(e=t.value)==null?void 0:e.reduce((r,h)=>h.maxCapacity?r+h.maxCapacity:r,0)}),b=k(()=>U(p.value??null,o.value,m.value));return(e,r)=>{const h=z("RouterLink");return a(),y(h,{to:{name:e.$Routes.DepartureShow,params:{departureId:e.scheduledDepartureId}},custom:""},{default:v(({navigate:A})=>[s("div",{class:_(["w-full cursor-pointer border bg-white px-6 shadow-md",[e.compact?"p-2":"rounded-md p-4"]]),onClick:A},[s("div",de,[s("div",ce,[s("div",{class:_(["relative",e.compact?"size-12":"size-16"])},[s("div",{class:"absolute h-5 w-12 rounded-xl rounded-bl-none rounded-tr-none bg-gray-900 px-1.5 py-0.5 text-center text-xs text-white",textContent:d(e.time)},null,8,pe),e.tourThumbnailUrl?(a(),i("img",{key:0,src:e.tourThumbnailUrl,class:"size-full min-w-12 rounded-xl object-cover",alt:e.tourName},null,8,fe)):(a(),i("div",ve))],2),e.compact?(a(),i("p",{key:0,class:"text-sm text-gray-900",textContent:d(e.tourName)},null,8,he)):g("",!0)]),s("div",ge,[l(n(F),{"centered-value":"passengers","ratio-items":b.value},null,8,["ratio-items"])]),s("div",_e,[n(t).length?(a(),i(C,{key:0},[(a(!0),i(C,null,R(n(t),({id:w,name:D,avatar:N,vehicleTitle:q,phone:M,vehicleRegistrationNumber:H},L)=>(a(),i("div",{key:w,onClick:r[1]||(r[1]=f(V=>e.$emit("startAssignment"),["stop"]))},[l(n(S),{class:_([L>0&&"-ml-4"]),name:D,avatar:N,phone:M,"vehicle-title":q,"vehicle-registration-number":H,onClickAvatar:r[0]||(r[0]=V=>e.$emit("startAssignment"))},null,8,["class","name","avatar","phone","vehicle-title","vehicle-registration-number"])]))),128)),s("div",ye,[l($,{class:"h-6 w-6 fill-white"})])],64)):(a(),y(n(E),{key:1,variant:"soft",class:"flex cursor-pointer items-center justify-center rounded-full bg-gray-300",onClick:r[2]||(r[2]=f(w=>e.$emit("startAssignment"),["stop"]))},{default:v(()=>[s("div",be,[l($,{class:"h-6 w-6 fill-white"}),we])]),_:1}))]),s("div",xe,[l(n(B),{"scheduled-departure-id":e.scheduledDepartureId,comment:e.comment,onClick:r[3]||(r[3]=f(()=>{},["stop"]))},null,8,["scheduled-departure-id","comment"]),l(n(P),{"scheduled-departure-id":e.scheduledDepartureId,status:e.status,onClick:r[4]||(r[4]=f(()=>{},["stop"]))},null,8,["scheduled-departure-id","status"])])])],10,me)]),_:1},8,["to"])}}});ke.__docgenInfo={exportName:"default",displayName:"DepartureListItem",description:"",tags:{},props:[{name:"scheduledDepartureId",required:!0,type:{name:"TSIndexedAccessType"}},{name:"bookingSystemAvailability",required:!0,type:{name:"union",elements:[{name:"number"},{name:"null"}]}},{name:"tourName",required:!0,type:{name:"string"}},{name:"tourThumbnailUrl",required:!0,type:{name:"union",elements:[{name:"string"},{name:"null"}]}},{name:"time",required:!0,type:{name:"string"}},{name:"totalPassengerCount",required:!0,type:{name:"number"}},{name:"comment",required:!0,type:{name:"union",elements:[{name:"string"},{name:"null"}]}},{name:"status",required:!0,type:{name:"ScheduledDepartureStatus"}},{name:"scheduledUsers",required:!0,type:{name:"Array",elements:[{name:"TSParenthesizedType"}]}},{name:"compact",required:!1,type:{name:"boolean"}}],events:[{name:"startAssignment"}],sourceFiles:["D:/work/server/htdocs/aa-portal.is/src/widgets/departure-list/ui/item/DepartureListItem.vue"]};export{$ as I,ke as _};
