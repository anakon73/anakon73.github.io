import{e as w,p as P,f as b,j as v,g as L,q as T,t as $,w as K,v as j,h as V,$ as ve,r as pe,a7 as ce,C as me}from"./vue.esm-bundler-CYPfFjdk.js";import{A,o as I,N as he,S as y,t as ge,u as M,T as ye}from"./keyboard-64MH3N5t.js";import{i as ee,s as be,t as Ee,d as m,c as Se,l as Te}from"./open-closed-nhb_Ydho.js";function Pe(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function k(){let e=[],t={addEventListener(r,n,i,l){return r.addEventListener(n,i,l),t.add(()=>r.removeEventListener(n,i,l))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...r)})},setTimeout(...r){let n=setTimeout(...r);t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Pe(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let l=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:l})})},group(r){let n=k();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}let te=Symbol("ForcePortalRootContext");function we(){return b(te,!1)}let ke=w({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r}){return P(te,e.force),()=>{let{force:n,...i}=e;return A({theirProps:i,ourProps:{},slot:{},slots:t,attrs:r,name:"ForcePortalRoot"})}}});function Fe(e){let t=ee(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let r=t.getElementById("headlessui-portal-root");if(r)return r;let n=t.createElement("div");return n.setAttribute("id","headlessui-portal-root"),t.body.appendChild(n)}let Ge=w({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:r}){let n=v(null),i=L(()=>ee(n)),l=we(),a=b(re,null),o=v(l===!0||a==null?Fe(n.value):a.resolveTarget()),s=v(!1);T(()=>{s.value=!0}),$(()=>{l||a!=null&&(o.value=a.resolveTarget())});let d=b(N,null),f=!1,E=ce();return K(n,()=>{if(f||!d)return;let u=I(n);u&&(j(d.register(u),E),f=!0)}),j(()=>{var u,F;let C=(u=i.value)==null?void 0:u.getElementById("headlessui-portal-root");C&&o.value===C&&o.value.children.length<=0&&((F=o.value.parentElement)==null||F.removeChild(o.value))}),()=>{if(!s.value||o.value===null)return null;let u={ref:n,"data-headlessui-portal":""};return V(ve,{to:o.value},A({ourProps:u,theirProps:e,slot:{},attrs:r,slots:t,name:"Portal"}))}}}),N=Symbol("PortalParentContext");function We(){let e=b(N,null),t=v([]);function r(l){return t.value.push(l),e&&e.register(l),()=>n(l)}function n(l){let a=t.value.indexOf(l);a!==-1&&t.value.splice(a,1),e&&e.unregister(l)}let i={register:r,unregister:n,portals:t};return[t,w({name:"PortalWrapper",setup(l,{slots:a}){return P(N,i),()=>{var o;return(o=a.default)==null?void 0:o.call(a)}}})]}let re=Symbol("PortalGroupContext"),_e=w({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:r}){let n=pe({resolveTarget(){return e.target}});return P(re,n),()=>{let{target:i,...l}=e;return A({theirProps:l,ourProps:{},slot:{},attrs:t,slots:r,name:"PortalGroup"})}}});function Ce(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function D(e,...t){e&&t.length>0&&e.classList.add(...t)}function x(e,...t){e&&t.length>0&&e.classList.remove(...t)}var U=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(U||{});function Le(e,t){let r=k();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[l,a]=[n,i].map(o=>{let[s=0]=o.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return s});return l!==0?r.setTimeout(()=>t("finished"),l+a):t("finished"),r.add(()=>t("cancelled")),r.dispose}function J(e,t,r,n,i,l){let a=k(),o=l!==void 0?Ce(l):()=>{};return x(e,...i),D(e,...t,...r),a.nextFrame(()=>{x(e,...r),D(e,...n),a.add(Le(e,s=>(x(e,...n,...t),D(e,...i),o(s))))}),a.add(()=>x(e,...t,...r,...n,...i)),a.add(()=>o("cancelled")),a.dispose}function g(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let G=Symbol("TransitionContext");var $e=(e=>(e.Visible="visible",e.Hidden="hidden",e))($e||{});function Ae(){return b(G,null)!==null}function Be(){let e=b(G,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Oe(){let e=b(W,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let W=Symbol("NestingContext");function H(e){return"children"in e?H(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function ne(e){let t=v([]),r=v(!1);T(()=>r.value=!0),j(()=>r.value=!1);function n(l,a=y.Hidden){let o=t.value.findIndex(({id:s})=>s===l);o!==-1&&(M(a,{[y.Unmount](){t.value.splice(o,1)},[y.Hidden](){t.value[o].state="hidden"}}),!H(t)&&r.value&&(e==null||e()))}function i(l){let a=t.value.find(({id:o})=>o===l);return a?a.state!=="visible"&&(a.state="visible"):t.value.push({id:l,state:"visible"}),()=>n(l,y.Unmount)}return{children:t,register:i,unregister:n}}let le=he.RenderStrategy,xe=w({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:n,expose:i}){let l=v(0);function a(){l.value|=m.Opening,t("beforeEnter")}function o(){l.value&=~m.Opening,t("afterEnter")}function s(){l.value|=m.Closing,t("beforeLeave")}function d(){l.value&=~m.Closing,t("afterLeave")}if(!Ae()&&be())return()=>V(He,{...e,onBeforeEnter:a,onAfterEnter:o,onBeforeLeave:s,onAfterLeave:d},n);let f=v(null),E=L(()=>e.unmount?y.Unmount:y.Hidden);i({el:f,$el:f});let{show:u,appear:F}=Be(),{register:C,unregister:q}=Oe(),p=v(u.value?"visible":"hidden"),_={value:!0},S=ge(),B={value:!1},z=ne(()=>{!B.value&&p.value!=="hidden"&&(p.value="hidden",q(S),d())});T(()=>{let c=C(S);j(c)}),$(()=>{if(E.value===y.Hidden&&S){if(u.value&&p.value!=="visible"){p.value="visible";return}M(p.value,{hidden:()=>q(S),visible:()=>C(S)})}});let Q=g(e.enter),X=g(e.enterFrom),ae=g(e.enterTo),Y=g(e.entered),oe=g(e.leave),ie=g(e.leaveFrom),ue=g(e.leaveTo);T(()=>{$(()=>{if(p.value==="visible"){let c=I(f);if(c instanceof Comment&&c.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function se(c){let R=_.value&&!F.value,h=I(f);!h||!(h instanceof HTMLElement)||R||(B.value=!0,u.value&&a(),u.value||s(),c(u.value?J(h,Q,X,ae,Y,O=>{B.value=!1,O===U.Finished&&o()}):J(h,oe,ie,ue,Y,O=>{B.value=!1,O===U.Finished&&(H(z)||(p.value="hidden",q(S),d()))})))}return T(()=>{K([u],(c,R,h)=>{se(h),_.value=!1},{immediate:!0})}),P(W,z),Ee(L(()=>M(p.value,{visible:m.Open,hidden:m.Closed})|l.value)),()=>{let{appear:c,show:R,enter:h,enterFrom:O,enterTo:qe,entered:Re,leave:De,leaveFrom:Ie,leaveTo:Me,...Z}=e,de={ref:f},fe={...Z,...F.value&&u.value&&Se.isServer?{class:me([r.class,Z.class,...Q,...X])}:{}};return A({theirProps:fe,ourProps:de,slot:{},slots:n,attrs:r,features:le,visible:p.value==="visible",name:"TransitionChild"})}}}),je=xe,He=w({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:n}){let i=Te(),l=L(()=>e.show===null&&i!==null?(i.value&m.Open)===m.Open:e.show);$(()=>{if(![!0,!1].includes(l.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let a=v(l.value?"visible":"hidden"),o=ne(()=>{a.value="hidden"}),s=v(!0),d={show:l,appear:L(()=>e.appear||!s.value)};return T(()=>{$(()=>{s.value=!1,l.value?a.value="visible":H(o)||(a.value="hidden")})}),P(W,o),P(G,d),()=>{let f=ye(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),E={unmount:e.unmount};return A({ourProps:{...E,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[V(je,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...r,...E,...f},n.default)]},attrs:{},features:le,visible:a.value==="visible",name:"Transition"})}}});export{We as A,_e as N,He as S,Ge as _,xe as h,k as o,Pe as t,ke as u};
