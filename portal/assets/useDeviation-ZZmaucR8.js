import{u as g,a as D,b as y}from"./preview-D0Pi-YKn.js";function I(){const{apiClient:a}=g(),{addToActionsInProgress:s,removeFromActionsInProgress:n,processActionError:r,resetActionsInError:o,processActionSuccess:c,resetActionsInSuccess:d}=D(),{fetchAndStoreAlertsIndex:l}=y(),i={getDeviationByDepartmentId:{id:"getDeviationByDepartmentId",successMessage:"Deviation retrieved successfully.",errorMessage:"There was a problem retrieving deviation."},getAllDeviationByUserAbility:{id:"getAllDeviationByUserAbility",successMessage:"Deviation retrieved successfully.",errorMessage:"There was a problem retrieving deviation."},getAllDeviationLogsByUserId:{id:"getAllDeviationLogsByUserId",successMessage:"Deviation logs retrieved successfully.",errorMessage:"There was a problem retrieving the deviation logs."},trainUser:{id:"trainUser",successMessage:"User successfully trained.",errorMessage:"There was a problem deviation the user."},deleteDeviationLog:{id:"deleteDeviationLog",successMessage:"Deviation log successfully deleted.",errorMessage:"There was a problem deleting the deviation log."},getDeviationById:{id:"getDeviationById",successMessage:"Deviation successfully retrieved.",errorMessage:"There was a problem retrieving the deviation."},editDeviation:{id:"editDeviation",successMessage:"Deviation successfully updated.",errorMessage:"There was a problem updating the deviation."},createDeviation:{id:"createDeviation",successMessage:"Deviation successfully created.",errorMessage:"There was a problem creating the deviation."}};return{deviationActions:i,apiGetDeviationsByDepartmentId:async t=>{o(),s(i.getDeviationByDepartmentId);try{const e=await a.get("/api/deviations",{params:{selectedDepartmentId:t}});return n(i.getDeviationByDepartmentId),e.data.deviations}catch(e){r(i.getDeviationByDepartmentId,e)}},getAllDeviationByUserAbility:async()=>{o(),s(i.getAllDeviationByUserAbility);try{const t=await a.get("/api/deviation-by-user-ability");return n(i.getAllDeviationByUserAbility),t.data.deviation}catch(t){r(i.getAllDeviationByUserAbility,t)}},deleteDeviationLog:async t=>{o(),d();const e={...i.deleteDeviationLog};e.id=`${e.id}-${t}`,s(e);try{await a.delete(`/api/deviation-log/${t}`),await l(),c(e)}catch(v){return r(e,v),!1}},getDeviationById:async t=>{o(),s(i.getDeviationById);try{const e=await a.get(`/api/deviation/${t}`);return n(i.getDeviationById),e.data.deviation}catch(e){r(i.getDeviationById,e)}},editDeviation:async t=>{o(),d(),s(i.editDeviation);try{const e=await a.put(`/api/deviation/${t.id}`,{department_id:t.department.id,deviation_category_id:t.category.id,name:t.name,requires_feedback:t.requiresFeedback,mandatory:t.mandatory,required_abilities:t.requiredAbilities});return c(i.editDeviation),e.data.deviation}catch(e){r(i.editDeviation,e)}},createDeviation:async t=>{o(),d(),s(i.createDeviation);try{const e=await a.post("/api/deviation",t);return c(i.createDeviation),e.data.deviation}catch(e){console.log(e),r(i.createDeviation,e)}}}}export{I as u};
