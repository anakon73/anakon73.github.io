import{e as A,v as D,o,A as n,B as m,E as C,l as e,u as t,x as f,D as h,b as y,k as s,F as P,H as R,G as b}from"./vue.esm-bundler-CYPfFjdk.js";import{s as g}from"./schemas-74JEr9Jm.js";import{a as F,f as E,M as B,A as c}from"./preview-D0Pi-YKn.js";import{P as V}from"./ProgressSpinner-lCLkagxy.js";import{u as M,a as l}from"./useExperience-j1XTukVo.js";import{_ as U}from"./VDataFilters-2mcnRfw0.js";import{u as G}from"./useAuth-8d_1_S6I.js";import"./index-LmGWO5sK.js";import"./vue-router-E7v71uM3.js";import"./routes-WhYxSpGG.js";import"./models-qWR1FMGP.js";import"./chunk-UXHY756F-iEg6Hh0Y.js";import"./index-C1vJkiWb.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./preview-errors-7FWlPnjy.js";import"./index-PPLHz8o0.js";import"./PDays-npMhi6Nw.js";import"./index-baqd9Qr3.js";import"./index-TCXC35p5.js";import"./index-05uTbNHo.js";import"./PPopoverPanel-RNuJphX8.js";import"./headlessui-float-sqR0azf2.js";import"./transition-qpXhaAaU.js";import"./keyboard-64MH3N5t.js";import"./open-closed-nhb_Ydho.js";import"./use-root-containers-gEPBKDr2.js";import"./use-resolve-button-type-49aRxFpo.js";import"./iframe-ufxlS10p.js";import"../sb-preview/runtime.js";import"./query-G1AwWss6.js";import"./ChevronDownIcon-AgxEjrtE.js";import"./listbox-3RN1mHPV.js";import"./form-TGXPuq_M.js";import"./DepartureList-w5NrqMJ9.js";import"./DepartureAssignStaffAndVehicles-8AoBdfT8.js";import"./api-B2HcjM2j.js";import"./api-cJzoLyfI.js";import"./PButton-h9_xezBg.js";import"./index-VqpYtbVe.js";import"./PInput-iZb_REtl.js";import"./POverlay-3jPNvx4x.js";import"./PSpinner-cF72MsvC.js";import"./IconBus-0QPjtZ9u.js";import"./_plugin-vue_export-helper-x3n3nnut.js";import"./IconPerson-i3ljUCnk.js";import"./SuggestedUser-4kWsZiWj.js";import"./PAvatar-wq6oK0Zr.js";import"./PlusCircleIcon-aSiXn_Mr.js";import"./SuggestedVehicle-r1TyKt-D.js";import"./ScheduledUser-esbe3tjU.js";import"./VehicleTitle-0pOySBND.js";import"./XMarkIcon-_tXc_TyD.js";import"./PPhoneLink-wKLYRG_F.js";import"./PAlert-quHLeqTA.js";import"./CheckCircleIcon-akbq8cGf.js";import"./XMarkIcon-t43a1P5Z.js";import"./PDialogTitle-rfxNVwSR.js";import"./description-LPuBJoU_.js";import"./DepartureListItem-I88AIHqM.js";import"./DepartureUpdateComment-2rt04tFb.js";import"./PTextarea-Wrr33MR5.js";import"./DepartureUpdateCommentPopover-euFlcGix.js";import"./DepartureUpdateStatus-zdhd3wV8.js";import"./PListboxLabel-U39qo3cm.js";import"./CheckIcon-WRJIoum8.js";import"./lib-Fy6oBlQ3.js";import"./PToggle-mLVcOzrp.js";import"./PRadio-sGATo2dT.js";import"./index-bhXQ3okY.js";import"./isNativeReflectConstruct-ubdnbphT.js";import"./mock-vjhcKIQW.js";import"./index-1aVAeLWL.js";import"./mock-UR5nntqf.js";import"./mock-CzN7Q16W.js";import"./mock-YoOI-P8k.js";import"./mock-psFphV_9.js";import"./mock-OgPWcINV.js";import"./useDepartment-RZahlhen.js";import"./useOperationalBase-kvvO22e1.js";import"./useRole-JNprELZd.js";const L={class:"mt-6 flex w-full justify-end"},X={class:"flex flex-col pb-4"},$={class:"mt-8 flow-root"},j={class:"overflow-x-auto"},q={class:"inline-block min-w-full py-2 align-middle"},H={key:0,class:"flex h-[50px] items-center justify-center rounded border border-gray-100 bg-gray-50 shadow"},T={key:1,class:"min-w-full divide-y divide-gray-300 rounded border border-gray-100 bg-white shadow","aria-label":"Experiences"},W=e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"bg-gray-50 px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Experiences "),e("th",{scope:"col",class:"bg-gray-50 px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," BÃ³kun ID "),e("th",{scope:"col",colspan:"2",class:"bg-gray-50 px-3 py-3.5"})])],-1),z={class:"divide-y divide-gray-200"},J={key:0},K=e("td",{colspan:"8",class:"px-3 py-3.5 text-center text-sm text-gray-500"}," No experiences found. ",-1),O=[K],Q={class:"whitespace-nowrap p-3 text-sm text-gray-900"},Y={class:"whitespace-nowrap p-3 text-sm text-gray-900"},Z={class:"relative whitespace-nowrap p-3 text-right text-sm font-medium"},ee=A({__name:"Index",setup(te){const{experienceActions:v,apiGetExperiences:w}=M(),{storeClearExperiences:k}=l(),{actionIsInProgress:I}=F(),{storeSetFilterState:S}=E(),{storeFilterState:r}=g(E()),{storeSetExperiences:d}=l(),{storeExperiences:u}=g(l()),{userHasPermissionInDepartment:x}=G(),N=async i=>{if(S(i),r.value.selectedDepartment===null)return;const p=await w(r.value.selectedDepartment);p&&d(p),d(p)};return D(()=>{k()}),(i,p)=>{const _=C("RouterLink");return o(),n(B,{"main-content-title":"Manage Experiences"},{default:m(()=>[e("div",L,[t(r).selectedDepartment&&t(x)(t(c).MANAGE_EXPERIENCES,t(r).selectedDepartment)?(o(),n(_,{key:0,to:{name:i.$Routes.ExperienceCreate},class:"block w-48 rounded-md bg-blue-600 px-3 py-1.5 text-center text-sm font-semibold leading-6 text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 hover:bg-blue-500"},{default:m(()=>[f(" Add Experience ")]),_:1},8,["to"])):h("",!0)]),y(U,{"department-permissions-required":[t(c).VIEW_EXPERIENCES],"filter-by-departments":"","filter-state":t(r),onFilterStateUpdated:N},null,8,["department-permissions-required","filter-state"]),e("div",X,[e("div",$,[e("div",j,[e("div",q,[t(I)(t(v).getAllExperiences)?(o(),s("div",H,[y(V,{class:"h-5 w-5 text-blue-600"})])):(o(),s("table",T,[W,e("tbody",z,[t(u).length===0?(o(),s("tr",J,O)):(o(!0),s(P,{key:1},R(t(u),a=>(o(),s("tr",{key:a.id},[e("td",Q,b(a.title),1),e("td",Y,b(a.bokunId),1),e("td",Z,[t(r).selectedDepartment&&t(x)(t(c).MANAGE_EXPERIENCES,t(r).selectedDepartment)?(o(),n(_,{key:0,to:{name:i.$Routes.ExperienceEdit,params:{experienceId:a.id}},class:"text-blue-600 hover:text-blue-900"},{default:m(()=>[f(" View ")]),_:2},1032,["to"])):h("",!0)])]))),128))])]))])])])])]),_:1})}}});ee.__docgenInfo={exportName:"default",displayName:"experiences",description:"",tags:{},sourceFiles:["D:/work/server/htdocs/aa-portal.is/src/pages/experiences/Index.vue"]};export{ee as default};
