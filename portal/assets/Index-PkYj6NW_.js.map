{"version":3,"file":"Index-PkYj6NW_.js","sources":["../../src/pages/staff-bases/Index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed, onMounted, onUnmounted } from 'vue'\nimport MainContent from '@/shared/ui/layout/MainContent.vue'\nimport { useUi } from '@/shared/lib/composables/useUi'\nimport ProgressSpinner from '@/shared/ui/ProgressSpinner.vue'\nimport { useStaffBases } from '@/shared/api/useStaffBases'\n\nconst {\n  staffBaseActions,\n  fetchAndStoreStaffBasesIndex,\n  resetStaffBasesStore,\n  getAllStaffBasesFromStore,\n} = useStaffBases()\nconst { actionIsInProgress } = useUi()\n\nconst staffBases = computed(() => getAllStaffBasesFromStore())\n\nonMounted(async () => {\n  await Promise.all([\n    fetchAndStoreStaffBasesIndex(),\n    fetchAndStoreStaffBasesIndex(),\n  ])\n})\nonUnmounted(() => {\n  resetStaffBasesStore()\n})\n</script>\n\n<template>\n  <MainContent main-content-title=\"Manage Staff Bases\">\n    <div class=\"mt-6 flex w-full justify-end\">\n      <RouterLink\n        :to=\"{ name: $Routes.StaffBaseCreate }\"\n        class=\"block w-48 rounded-md bg-blue-600 px-3 py-1.5 text-center text-sm font-semibold leading-6 text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 hover:bg-blue-500\"\n      >\n        Add Staff Base\n      </RouterLink>\n    </div>\n\n    <div class=\"flex flex-col pb-4\">\n      <div class=\"mt-8 flow-root\">\n        <div class=\"overflow-x-auto\">\n          <div class=\"inline-block min-w-full py-2 align-middle\">\n            <div\n              v-if=\"actionIsInProgress(staffBaseActions.getAllStaffBases)\"\n              class=\"flex h-[50px] items-center justify-center rounded border border-gray-100 bg-gray-50 shadow\"\n            >\n              <ProgressSpinner class=\"h-5 w-5 text-blue-600\" />\n            </div>\n\n            <table\n              v-else\n              class=\"min-w-full divide-y divide-gray-300 rounded border border-gray-100 bg-white shadow\"\n            >\n              <thead>\n                <tr>\n                  <th scope=\"col\" class=\"bg-gray-50 px-3 py-3.5 text-left text-sm font-semibold text-gray-900\">\n                    Staff Bases\n                  </th>\n                  <th scope=\"col\" colspan=\"2\" class=\"bg-gray-50 px-3 py-3.5\" />\n                </tr>\n              </thead>\n              <tbody class=\"divide-y divide-gray-200\">\n                <tr\n                  v-for=\"staffBase in staffBases\"\n                  :key=\"staffBase.id\"\n                >\n                  <td class=\"flex items-center whitespace-nowrap p-3 text-sm font-medium text-gray-900\">\n                    {{ staffBase.name }}\n                  </td>\n                  <td class=\"relative whitespace-nowrap p-3 text-right text-sm font-medium\">\n                    <RouterLink\n                      :to=\"{\n                        name: $Routes.StaffBaseEdit,\n                        params: { staffBaseId: staffBase.id },\n                      }\"\n                      class=\"text-blue-600 hover:text-blue-900\"\n                    >\n                      View\n                    </RouterLink>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </MainContent>\n</template>\n"],"names":["staffBaseActions","fetchAndStoreStaffBasesIndex","resetStaffBasesStore","getAllStaffBasesFromStore","useStaffBases","actionIsInProgress","useUi","staffBases","computed","onMounted","onUnmounted"],"mappings":"q6GAOM,KAAA,CACJ,iBAAAA,EACA,6BAAAC,EACA,qBAAAC,EACA,0BAAAC,GACEC,EAAc,EACZ,CAAE,mBAAAC,GAAuBC,IAEzBC,EAAaC,EAAS,IAAML,EAA2B,CAAA,EAE7D,OAAAM,EAAU,SAAY,CACpB,MAAM,QAAQ,IAAI,CAChBR,EAA6B,EAC7BA,EAA6B,CAAA,CAC9B,CAAA,CACF,EACDS,EAAY,IAAM,CACKR,GAAA,CACtB"}