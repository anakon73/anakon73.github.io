import{e as x,z as B,g as b,o as c,A as h,B as a,u as e,b as t,l as n,x as y,G as m,k as I,D as P,L as V}from"./vue.esm-bundler-CYPfFjdk.js";import{b as N}from"./index-baqd9Qr3.js";import{n as w}from"./schemas-74JEr9Jm.js";import"./query-G1AwWss6.js";import{u as T}from"./query-RcMfahOO.js";import{_ as U}from"./PNumberInput-bPLMBx_c.js";import{_ as $}from"./POverlay-3jPNvx4x.js";import{G as S,a as q,_ as D}from"./PPopoverPanel-RNuJphX8.js";import{I as G}from"./IconPerson-i3ljUCnk.js";const j={class:"block min-w-14 text-left"},z={key:0},A={class:"flex h-full flex-col gap-3"},R=["onClick"],E=x({__name:"BookingUpdatePassengerCount",props:{tourBookingId:{},totalCount:{},arrivedCount:{}},setup(d){const r=d,{tourBookingId:p,totalCount:s}=B(r),f=b(()=>r.arrivedCount??s.value),{cloned:o,sync:_}=N(f),{mutate:g,isPending:C}=T(),k=u=>{g({tourBookingId:p.value,arrivedPassengerCount:o.value},{onSuccess(){u(),w.success({message:"Passengers count saved"})}})};return(u,l)=>(c(),h(e(D),{float:{placement:"bottom",onHide:e(_)}},{default:a(({close:v})=>[t(e(S),{class:"flex items-center justify-center gap-1 text-lg focus:outline-none"},{default:a(()=>[t(G,{class:"size-5 text-blue-600"}),n("span",j,[y(m(e(o))+" ",1),e(o)!==e(s)?(c(),I("span",z," / "+m(e(s)),1)):P("",!0)])]),_:1}),t(e(q),null,{default:a(()=>[n("div",A,[t(e(U),{modelValue:e(o),"onUpdate:modelValue":l[0]||(l[0]=i=>V(o)?o.value=i:null),min:0,max:e(s)},null,8,["modelValue","max"]),t(e($),{show:e(C),class:"flex justify-end"},{default:a(()=>[n("button",{class:"select-none text-blue-500 transition-colors hover:text-blue-800",onClick:i=>k(v)}," Save changes ",8,R)]),_:2},1032,["show"])])]),_:2},1024)]),_:1},8,["float"]))}});E.__docgenInfo={exportName:"default",displayName:"BookingUpdatePassengerCount",description:"",tags:{},props:[{name:"tourBookingId",required:!0,type:{name:"TSIndexedAccessType"}},{name:"totalCount",required:!0,type:{name:"number"}},{name:"arrivedCount",required:!0,type:{name:"union",elements:[{name:"number"},{name:"null"}]}}],sourceFiles:["D:/work/server/htdocs/aa-portal.is/src/features/booking/update-passenger-count/BookingUpdatePassengerCount.vue"]};export{E as _};
