import{d as I,s as p}from"./schemas-74JEr9Jm.js";import{u as y,a as A}from"./preview-D0Pi-YKn.js";import{j as b}from"./vue.esm-bundler-CYPfFjdk.js";const S=I("staffBases",()=>{const a=b([]);function r(f){a.value=f}function n(f){a.value.push(f)}function c(f){const d=a.value.findIndex(i=>i.id===f.id);a.value[d]=f}function o(){a.value=[]}return{staffBasesIndex:a,setStaffBaseIndex:r,addStaffBaseToIndex:n,updateStaffBasesInIndex:c,resetStaffBasesStore:o}});function _(){const{apiClient:a}=y(),{addToActionsInProgress:r,removeFromActionsInProgress:n,processActionError:c,resetActionsInError:o,processActionSuccess:f,resetActionsInSuccess:d}=A(),{setStaffBaseIndex:i,resetStaffBasesStore:B,addStaffBaseToIndex:u,updateStaffBasesInIndex:l}=S(),{staffBasesIndex:g}=p(S()),e={getAllStaffBases:{id:"getAllStaffBases",successMessage:"Staff bases retrieved successfully.",errorMessage:"Failed to retrieve staff bases."},createStaffBase:{id:"createStaffBase",successMessage:"Staff base created successfully.",errorMessage:"Failed to create staff base."},getStaffBaseById:{id:"getStaffBaseById",successMessage:"Staff base retrieved successfully.",errorMessage:"Failed to retrieve staff base."},editStaffBase:{id:"editStaffBase",successMessage:"Staff base edited successfully.",errorMessage:"Failed to edit staff base."}};return{staffBaseActions:e,fetchAndStoreStaffBasesIndex:async()=>{o(),r(e.getAllStaffBases);try{const t=await a.get("/api/staff-bases");i(t.data.staff_bases),n(e.getAllStaffBases)}catch(t){console.log(t),c(e.getAllStaffBases,t)}},resetStaffBasesStore:B,getAllStaffBasesFromStore:()=>g.value,createStaffBase:async t=>{o(),d(),r(e.createStaffBase);try{const s=await a.post("/api/staff-bases",t);u(s.data.staff_base),f(e.createStaffBase)}catch(s){console.log(s),c(e.createStaffBase,s)}},getStaffBaseById:async t=>{o(),r(e.getStaffBaseById);try{const s=await a.get(`/api/staff-bases/${t}`);return n(e.getStaffBaseById),s.data.staff_base}catch(s){c(e.getStaffBaseById,s)}},editStaffBase:async t=>{o(),d(),r(e.editStaffBase);try{const s=await a.put(`/api/staff-bases/${t.id}`,{staffBaseData:t});return l(s.data.staff_base),f(e.editStaffBase),s.data.training}catch(s){c(e.editStaffBase,s)}}}}export{_ as u};
