import{e as F,j as h,o as a,A as m,B as u,E as A,l as e,u as i,b as f,J as l,P as n,D as v,T as y,N as R,k as S,a0 as j,a1 as B}from"./vue.esm-bundler-CYPfFjdk.js";import{R as E}from"./RightDrawer-Lpr6admO.js";import{a as P}from"./preview-D0Pi-YKn.js";import{I as T}from"./IconClose-tbzieUCA.js";import{P as x}from"./ProgressSpinner-lCLkagxy.js";import{_ as $,a as q}from"./ActionErrorAlert--bGVRXV4.js";import{a as M}from"./useVehicle-nrY-7Tml.js";import{u as O}from"./useOrganisation-sTqlSIPt.js";import{_ as L}from"./VDepartmentMultiSelect-o-LqVwHz.js";import{_ as z}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./chunk-UXHY756F-iEg6Hh0Y.js";import"./index-C1vJkiWb.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./vue-router-E7v71uM3.js";import"./preview-errors-7FWlPnjy.js";import"./index-PPLHz8o0.js";import"./schemas-74JEr9Jm.js";import"./index-LmGWO5sK.js";import"./routes-WhYxSpGG.js";import"./models-qWR1FMGP.js";import"./PDays-npMhi6Nw.js";import"./index-baqd9Qr3.js";import"./index-TCXC35p5.js";import"./index-05uTbNHo.js";import"./PPopoverPanel-RNuJphX8.js";import"./headlessui-float-sqR0azf2.js";import"./transition-qpXhaAaU.js";import"./keyboard-64MH3N5t.js";import"./open-closed-nhb_Ydho.js";import"./use-root-containers-gEPBKDr2.js";import"./use-resolve-button-type-49aRxFpo.js";import"./iframe-ufxlS10p.js";import"../sb-preview/runtime.js";import"./query-G1AwWss6.js";import"./ChevronDownIcon-AgxEjrtE.js";import"./listbox-3RN1mHPV.js";import"./form-TGXPuq_M.js";import"./DepartureList-w5NrqMJ9.js";import"./DepartureAssignStaffAndVehicles-8AoBdfT8.js";import"./api-B2HcjM2j.js";import"./api-cJzoLyfI.js";import"./PButton-h9_xezBg.js";import"./index-VqpYtbVe.js";import"./PInput-iZb_REtl.js";import"./POverlay-3jPNvx4x.js";import"./PSpinner-cF72MsvC.js";import"./IconBus-0QPjtZ9u.js";import"./IconPerson-i3ljUCnk.js";import"./SuggestedUser-4kWsZiWj.js";import"./PAvatar-wq6oK0Zr.js";import"./PlusCircleIcon-aSiXn_Mr.js";import"./SuggestedVehicle-r1TyKt-D.js";import"./ScheduledUser-esbe3tjU.js";import"./VehicleTitle-0pOySBND.js";import"./XMarkIcon-_tXc_TyD.js";import"./PPhoneLink-wKLYRG_F.js";import"./PAlert-quHLeqTA.js";import"./CheckCircleIcon-akbq8cGf.js";import"./XMarkIcon-t43a1P5Z.js";import"./PDialogTitle-rfxNVwSR.js";import"./description-LPuBJoU_.js";import"./DepartureListItem-I88AIHqM.js";import"./DepartureUpdateComment-2rt04tFb.js";import"./PTextarea-Wrr33MR5.js";import"./DepartureUpdateCommentPopover-euFlcGix.js";import"./DepartureUpdateStatus-zdhd3wV8.js";import"./PListboxLabel-U39qo3cm.js";import"./CheckIcon-WRJIoum8.js";import"./lib-Fy6oBlQ3.js";import"./PToggle-mLVcOzrp.js";import"./PRadio-sGATo2dT.js";import"./index-bhXQ3okY.js";import"./isNativeReflectConstruct-ubdnbphT.js";import"./mock-vjhcKIQW.js";import"./index-1aVAeLWL.js";import"./mock-UR5nntqf.js";import"./mock-CzN7Q16W.js";import"./mock-YoOI-P8k.js";import"./mock-psFphV_9.js";import"./mock-OgPWcINV.js";import"./IconTickMarkCircle-2_sKm8Jk.js";import"./useDepartment-RZahlhen.js";import"./useOperationalBase-kvvO22e1.js";const r=c=>(j("data-v-950a4d96"),c=c(),B(),c),J={class:"isolate flex flex-col items-center justify-center border-l bg-white pb-6"},G={class:"sticky top-0 z-10 flex w-full items-center justify-end bg-white p-6"},H={class:"space-y-8 divide-y divide-gray-200"},K=r(()=>e("div",null,[e("div",null,[e("h3",{class:"text-base font-semibold leading-6 text-gray-900"}," Add a new vehicle. "),e("p",{class:"mt-1 text-sm text-gray-500"}," Complete the form below to add a new vehicle to the Portal. ")])],-1)),Q={class:"pt-8"},W=r(()=>e("h3",{class:"text-base font-semibold leading-6 text-gray-900"}," Vehicle Details ",-1)),X={class:"mt-6 grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-6"},Y={class:"sm:col-span-6"},Z={class:"sm:col-span-3"},ee=r(()=>e("label",{for:"registration_number",class:"block text-sm font-medium text-gray-700"}," Registration Number ",-1)),te={class:"sm:col-span-3"},oe=r(()=>e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Name ",-1)),se={class:"sm:col-span-3"},ie=r(()=>e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Max capacity ",-1)),re={class:"sm:col-span-3"},ae=r(()=>e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Comfort capacity ",-1)),me=["max"],le={class:"sm:col-span-3"},ne=r(()=>e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," In use from ",-1)),de={class:"sm:col-span-3"},ce=r(()=>e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," In use until ",-1)),pe={class:"relative pt-5"},ue={class:"flex items-center justify-end"},fe={class:"flex items-center"},_e={key:0},g=F({__name:"Create",setup(c){const{validateForm:w,actionIsInProgress:_,actionIsInError:k,actionIsInSuccess:V}=P(),{vehicleActions:d,apiCreateVehicle:C,storeAddVehicleToIndex:I}=M(),{organisationActions:U}=O(),b=h(null),t=h({organisationId:1,departments:[],name:"",registrationNumber:"",maxCapacity:12,comfortCapacity:12,inUseFrom:null,inUseUntil:null}),N=async()=>{const p=await C(t.value);p.status===201&&I(p.data.vehicle)};return(p,o)=>{const D=A("RouterLink");return a(),m(E,null,{default:u(()=>[e("div",J,[e("div",G,[i(_)(i(U).getAllOrganisations)?(a(),m(x,{key:0,class:"h-5 w-5 text-blue-500"})):(a(),m(D,{key:1,to:{name:p.$Routes.Vehicles}},{default:u(()=>[f(T,{class:"h-5 w-5 fill-red-400"})]),_:1},8,["to"]))]),e("form",{id:"create_user_form",ref_key:"createVehicleFormElement",ref:b,class:"w-full space-y-8 divide-y divide-gray-200 px-6 md:px-12"},[e("div",H,[K,e("div",Q,[W,e("div",X,[e("div",Y,[f(L,{"selected-departments":t.value.departments,"onUpdate:selectedDepartments":o[0]||(o[0]=s=>t.value.departments=s)},null,8,["selected-departments"])]),e("div",Z,[ee,l(e("input",{id:"registration_number","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.registrationNumber=s),type:"text",name:"registration_number",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:""},null,512),[[n,t.value.registrationNumber]])]),e("div",te,[oe,l(e("input",{id:"name","onUpdate:modelValue":o[2]||(o[2]=s=>t.value.name=s),type:"text",name:"name",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:""},null,512),[[n,t.value.name]])]),e("div",se,[ie,l(e("input",{id:"max_capacity","onUpdate:modelValue":o[3]||(o[3]=s=>t.value.maxCapacity=s),type:"number",name:"max_capacity",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:""},null,512),[[n,t.value.maxCapacity]])]),e("div",re,[ae,l(e("input",{id:"comfort_capacity","onUpdate:modelValue":o[4]||(o[4]=s=>t.value.comfortCapacity=s),max:t.value.maxCapacity,type:"number",name:"comfort_capacity",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:""},null,8,me),[[n,t.value.comfortCapacity]])]),e("div",le,[ne,l(e("input",{id:"in_use_from","onUpdate:modelValue":o[5]||(o[5]=s=>t.value.inUseFrom=s),type:"date",name:"in_use_from",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[n,t.value.inUseFrom]])]),e("div",de,[ce,l(e("input",{id:"in_use_until","onUpdate:modelValue":o[6]||(o[6]=s=>t.value.inUseUntil=s),type:"date",name:"in_use_until",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},null,512),[[n,t.value.inUseUntil]])])])])]),e("div",pe,[e("div",ue,[f(y,{name:"alert"},{default:u(()=>[i(V)(i(d).createVehicle)?(a(),m($,{key:0,action:i(d).createVehicle},null,8,["action"])):v("",!0)]),_:1}),f(y,{name:"alert"},{default:u(()=>[i(k)(i(d).createVehicle)?(a(),m(q,{key:0,action:i(d).createVehicle},null,8,["action"])):v("",!0)]),_:1}),e("div",fe,[e("button",{class:"ml-3 inline-flex h-9 items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm focus:outline-none hover:bg-blue-700",onClick:o[7]||(o[7]=R(s=>i(w)(b.value,()=>N()),["prevent"]))},[i(_)(i(d).createVehicle)?(a(),m(x,{key:1,class:"h-3 w-3 text-white"})):(a(),S("span",_e," Save "))])])])])],512)])]),_:1})}}}),Jt=z(g,[["__scopeId","data-v-950a4d96"]]);g.__docgenInfo={exportName:"default",displayName:"Create",description:"",tags:{},sourceFiles:["D:/work/server/htdocs/aa-portal.is/src/pages/vehicles/Create.vue"]};export{Jt as default};
